import{u as R,a as T}from"./index.1d6d1242.js";import{j as C,f as $,m as j,d as M,r as P,o as k,q as W,t as A,n as z,u as N}from"./vendor.e46403d2.js";const H={sublime:"subl://open?url=file://{path}&line={line}&column={column}",textmate:"txmt://open?url=file://{path}&line={line}&column={column}",emacs:"emacs://open?url=file://{path}&line={line}&column={column}",macvim:"mvim://open/?url=file://{path}&line={line}&column={column}",phpstorm:"phpstorm://open?file={path}&line={line}&column={column}",webstorm:"phpstorm://open?file={path}&line={line}&column={column}",idea:"idea://open?file={path}&line={line}&column={column}",vscode:"vscode://file/{path}:{line}:{column}","vscode-insiders":"vscode-insiders://file/{path}:{line}:{column}",atom:"atom://core/open/file?filename={path}&line={line}&column={column}"},q="https://github.com/wen-haoming/visual-dev/blob/master/demo{path}#L{line}";function F({editor:t,srcPath:e,line:n,column:r}){return(window.isDemo?q:H[t]).replace(/{(.*?)}/g,(s,l)=>l==="path"?e:String(l==="line"?n:r))}const O=(t,e)=>{if(!t)return null;for(;!e(t)&&t.parentNode&&t!==document.body;)t=t.parentNode;return t};function V(t){const e=window.getComputedStyle(t),n=t.getBoundingClientRect();return{borderLeftWidth:`${parseInt(e.borderLeftWidth,10)}px`,borderRightWidth:`${parseInt(e.borderRightWidth,10)}px`,borderTopWidth:`${parseInt(e.borderTopWidth,10)}px`,borderBottomWidth:`${parseInt(e.borderBottomWidth,10)}px`,marginLeft:`${parseInt(e.marginLeft,10)}px`,marginRight:`${parseInt(e.marginRight,10)}px`,marginTop:`${parseInt(e.marginTop,10)}px`,marginBottom:`${parseInt(e.marginBottom,10)}px`,paddingLeft:`${parseInt(e.paddingLeft,10)}px`,paddingRight:`${parseInt(e.paddingRight,10)}px`,paddingTop:`${parseInt(e.paddingTop,10)}px`,paddingBottom:`${parseInt(e.paddingBottom,10)}px`,left:`${n.left+window.scrollX-parseInt(e.marginLeft,10)}px`,top:`${n.top+window.scrollY-parseInt(e.marginTop,10)}px`,width:`${n.width+parseInt(e.marginLeft,10)+parseInt(e.marginRight,10)}px`,height:`${n.height+parseInt(e.marginTop,10)+parseInt(e.marginBottom,10)}px`}}var G=(t,e)=>{const n=t.__vccOpts||t;for(const[r,s]of e)n[r]=s;return n};const X={},Y={t:"1630214667810",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"8910",width:"200",height:"200"},Z=j("path",{d:"M615.901867 0a519.406933 519.406933 0 0 1 184.661333 76.526933 104.3456 104.3456 0 0 0 6.929067 139.9808 104.482133 104.482133 0 0 0 139.9808 7.031467A518.656 518.656 0 0 1 1024 408.098133a104.482133 104.482133 0 0 0 0 207.872 519.0656 519.0656 0 0 1-76.526933 184.593067 104.3456 104.3456 0 0 0-139.9808 6.929067 104.482133 104.482133 0 0 0-7.031467 139.9808A518.656 518.656 0 0 1 615.901867 1024a104.482133 104.482133 0 0 0-207.872 0 519.0656 519.0656 0 0 1-184.593067-76.526933 104.3456 104.3456 0 0 0-6.929067-139.9808 104.482133 104.482133 0 0 0-139.9808-7.031467A518.656 518.656 0 0 1 0 615.901867a104.482133 104.482133 0 0 0 0-207.872 519.2704 519.2704 0 0 1 76.526933-184.593067 104.3456 104.3456 0 0 0 139.9808-6.929067 104.482133 104.482133 0 0 0 7.031467-139.9808A518.656 518.656 0 0 1 408.098133 0a104.482133 104.482133 0 1 0 207.6672 1.8432zM512 320.477867a191.522133 191.522133 0 1 0 0 383.044266A191.522133 191.522133 0 0 0 512 320.512z",fill:"var(--v-brand)","p-id":"8911"},null,-1),J=[Z];function K(t,e){return C(),$("svg",Y,J)}var Q=G(X,[["render",K]]);const U={"pointer-events":"none"},ee={"z-index":1e8,position:"absolute",display:"flex","align-items":"center","font-family":'"SF Pro Text", "SF Pro Icons", "Helvetica Neue", "Helvetica", "Arial", sans-serif;',"font-weight":"bold",padding:"6px 8px","pointer-events":"none","border-radius":"3px","background-color":"var(--v-inspect-bg)","box-shadow":"var(--v-inspect-box-shadow)"},te={display:"flex","flex-direction":"column"},ie={color:"rgb(215, 215, 215)"},ne={"z-index":1e8,position:"absolute","border-color":"rgba(255, 155, 0, 0.3)","pointer-events":"none","border-style":"solid"},oe={"border-color":"rgba(255, 200, 50, 0.3)","pointer-events":"none","border-style":"solid"},re={"border-color":"rgba(77, 200, 0, 0.3)","pointer-events":"none","border-style":"solid"},se={"background-color":"rgba(120, 170, 210, 0.7)","pointer-events":"none"};class ae{constructor(){this.overLayer=document.createElement("div"),this.inspectMarginDiv=document.createElement("div"),this.inspectborderDiv=document.createElement("div"),this.inspectPaddingDiv=document.createElement("div"),this.inspectContentDiv=document.createElement("div"),this.inspectPaddingDiv.appendChild(this.inspectContentDiv),this.inspectborderDiv.appendChild(this.inspectPaddingDiv),this.inspectMarginDiv.appendChild(this.inspectborderDiv),this.detailLayer=document.createElement("div"),this.detailLeft=document.createElement("span"),this.detailRight=document.createElement("span"),this.detailLayer.appendChild(this.detailLeft),this.detailLayer.appendChild(this.detailRight),Object.assign(this.inspectMarginDiv.style,ne),Object.assign(this.inspectborderDiv.style,oe),Object.assign(this.inspectPaddingDiv.style,re),Object.assign(this.inspectContentDiv.style,se),Object.assign(this.overLayer.style,U),Object.assign(this.detailLayer.style,ee),Object.assign(this.detailLeft.style,te),Object.assign(this.detailRight.style,ie),this.overLayer.appendChild(this.inspectMarginDiv),this.overLayer.appendChild(this.detailLayer),document.body.appendChild(this.overLayer)}update(e,n){var w,L,D,_,I;const{left:r,top:s,marginLeft:l,marginRight:v,marginTop:m,marginBottom:g,borderLeftWidth:i,borderRightWidth:o,borderTopWidth:a,borderBottomWidth:d,paddingLeft:c,paddingRight:p,paddingTop:h,paddingBottom:u,width:b,height:y}=e;if(!this.inspectMarginDiv||!this.inspectborderDiv||!this.inspectPaddingDiv||!this.inspectContentDiv)return;const{domType:S,srcPath:B,componentName:x,frame:E}=n;let f="";/^[A-Z]/.test(String(x))?f=` <div  style="color:var(--v-inspect-tt);">
      <span style="display:inline-block;color:#fff;border-radius:2px;background:var(${E==="react"?"--v-inspect-frame-react":"--v-inspect-frame-vue"});padding: 0 4px">
        ${x}
      </span>
      </div>`:f=`
      <div  style="color:var(--v-inspect-tt);">
       ${S}
    </div>
    `,this.detailLeft.innerHTML=`
    ${f}
    <div style="color:var(--v-inspect-sub-tt)">
      ${B}
    </div>`,Object.assign((w=this.detailLayer)==null?void 0:w.style,{left:r,top:`${parseInt(s,10)+parseInt(y,10)+10}px`}),Object.assign((L=this.inspectMarginDiv)==null?void 0:L.style,{left:r,top:s,"border-left-width":l,"border-right-width":v,"border-top-width":m,"border-bottom-width":g,width:b,height:y,display:"flex","box-sizing":"border-box"}),Object.assign((D=this.inspectborderDiv)==null?void 0:D.style,{"border-left-width":i,"border-right-width":o,"border-top-width":a,"border-bottom-width":d,display:"flex",flex:1,"box-sizing":"border-box"}),Object.assign((_=this.inspectPaddingDiv)==null?void 0:_.style,{"border-left-width":c,"border-right-width":p,"border-top-width":h,"border-bottom-width":u,display:"flex","box-sizing":"border-box",flex:1}),Object.assign((I=this.inspectContentDiv)==null?void 0:I.style,{"box-sizing":"border-box",flex:1})}unmount(){var e,n;(n=(e=this.overLayer)==null?void 0:e.parentElement)==null||n.removeChild(this.overLayer),this.inspectContentDiv=null,this.inspectborderDiv=null,this.inspectPaddingDiv=null,this.inspectMarginDiv=null,this.detailLayer=null,this.overLayer=null}}const pe=M({setup(t){const e=R(),n=T(),r=P(),s=P(new WeakMap);let l=null;k(()=>{const i=()=>{document.querySelectorAll("[data-v-p]").forEach(a=>{const d=a.getAttribute("data-v-p");d&&s.value.set(a,d),a.removeAttribute("data-v-p")})};i(),new MutationObserver(()=>{i()}).observe(document.body,{attributes:!1,childList:!0,subtree:!0})});const v=i=>{i.stopPropagation(),e==null||e.setIsAimStatus(!0)},m=async i=>{requestAnimationFrame(()=>{i.stopPropagation();const o=O(i.target,d=>!!s.value.get(d));if(!o)return;const a=s.value.get(o);if(a&&o&&r.value&&l!==o){const d=V(o),[,c,p,h]=a.split("|");r.value.update(d,{frame:h,componentName:p,domType:o.nodeName.toLowerCase(),srcPath:c})}l=o})},g=async i=>{var o;i.stopPropagation(),i.preventDefault();try{const a=O(i.target,c=>!!s.value.get(c));if(!a){(o=r.value)==null||o.unmount();return}const d=s.value.get(a);if(d){const[c]=d.split("|"),[p,h,u]=c.split(":"),b=F({srcPath:p,line:h,column:u,editor:"vscode"});window.open(b)}}finally{e==null||e.setIsAimStatus(!1)}};return W([e],()=>{var i;(e==null?void 0:e.isAimStatus)?(r.value=new ae,window.addEventListener("mousemove",m,!1),window.addEventListener("click",g,!0)):((i=r.value)==null||i.unmount(),window.removeEventListener("mousemove",m,!1),window.removeEventListener("click",g,!0))}),(i,o)=>(C(),$("div",{class:z(`${N(n)}-aim`),onClick:v},[A(Q,{class:"svg",width:"100%",height:"100%"})],2))}});export{pe as default};
