import{r as C,p as N,i as W,h as k,o as y,a as I,w as V,b as J,c as u,d as g,e as z,f as _,u as m,g as F,j as S,n as x,k as H,F as Q,l as ee}from"./vendor.c1025d27.js";const te=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))s(n);new MutationObserver(n=>{for(const o of n)if(o.type==="childList")for(const d of o.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&s(d)}).observe(document,{childList:!0,subtree:!0});function t(n){const o={};return n.integrity&&(o.integrity=n.integrity),n.referrerpolicy&&(o.referrerPolicy=n.referrerpolicy),n.crossorigin==="use-credentials"?o.credentials="include":n.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function s(n){if(n.ep)return;n.ep=!0;const o=t(n);fetch(n.href,o)}};te();const q="useRoute",ie=i=>{const e=C();return e.value=i,N(q,e.value),e.value},$=i=>`${W(q)}-${i}`,ne=i=>(y(()=>{Object.entries(i).forEach(([,e])=>{e.keys.forEach(t=>{k(t.join("+"),e.callback)})})}),{update(e){Object.entries(e).forEach(([,t])=>{t.keys.forEach(s=>{k(s.join("+"),t.callback)})})},unbind(){Object.entries(i).forEach(([e,t])=>{k.unbind(t.keys.join("+"),e)})}}),G="useStore",se={type:"",component:"",visibile:!1,isAimStatus:!1,devConfig:{editor:"vscode",mode:"",shortcuts:{inspect:[]}},setVisibile(i){this.visibile=i},setIsAimStatus(i){this.isAimStatus=i},openDrawer(){this.component="",this.type="",this.setVisibile(!0)},closeAll(){this.component="",this.type="",this.setVisibile(!1),this.setIsAimStatus(!1)}},oe=()=>{const i=I(se),{update:e}=ne({close_all:{keys:[["esc"]],callback(){i.closeAll()}},toggle_aim:{keys:[["command","shift","x"],["ctrl","shift","x"]],callback(){i.setIsAimStatus(!i.isAimStatus)}}}),t=s=>{switch(s.key){case"Escape":return i.setIsAimStatus(!1),null;default:return null}};return V(()=>{var s,n,o;((n=(s=i.devConfig.shortcuts)==null?void 0:s.inspect)==null?void 0:n.length)&&e({open_aim:{keys:[(o=i.devConfig.shortcuts)==null?void 0:o.inspect],callback:()=>i.setIsAimStatus(!i.isAimStatus)}})}),y(()=>{window.addEventListener("keydown",t,!1)}),J(()=>{window.removeEventListener("keydown",t,!1)}),N(G,I(i)),i},K=()=>W(G),re="http://localhost:10078/web-devtools",ae=i=>fetch(`${re}/${i}`).then(e=>e.json()),le={sublime:"subl://open?url=file://{path}&line={line}&column={column}",textmate:"txmt://open?url=file://{path}&line={line}&column={column}",emacs:"emacs://open?url=file://{path}&line={line}&column={column}",macvim:"mvim://open/?url=file://{path}&line={line}&column={column}",phpstorm:"phpstorm://open?file={path}&line={line}&column={column}",webstorm:"webstorm://open?file={path}&line={line}&column={column}",idea:"idea://open?file={path}&line={line}&column={column}",vscode:"vscode://file/{path}:{line}:{column}","vscode-insiders":"vscode-insiders://file/{path}:{line}:{column}",atom:"atom://core/open/file?filename={path}&line={line}&column={column}"},ce="https://github.com/wen-haoming/visual-dev/blob/master/demo{path}#L{line}";function de({editor:i,srcPath:e,line:t,column:s}){return(window.isDemo?ce:le[i]).replace(/{(.*?)}/g,(n,o)=>o==="path"?e:String(o==="line"?t:s))}const U=(i,e)=>{if(!i)return null;for(;!e(i)&&i.parentNode&&i!==document.body;)i=i.parentNode;return i};function pe(i){const e=window.getComputedStyle(i),t=i.getBoundingClientRect();return{borderLeftWidth:`${parseInt(e.borderLeftWidth,10)}px`,borderRightWidth:`${parseInt(e.borderRightWidth,10)}px`,borderTopWidth:`${parseInt(e.borderTopWidth,10)}px`,borderBottomWidth:`${parseInt(e.borderBottomWidth,10)}px`,marginLeft:`${parseInt(e.marginLeft,10)}px`,marginRight:`${parseInt(e.marginRight,10)}px`,marginTop:`${parseInt(e.marginTop,10)}px`,marginBottom:`${parseInt(e.marginBottom,10)}px`,paddingLeft:`${parseInt(e.paddingLeft,10)}px`,paddingRight:`${parseInt(e.paddingRight,10)}px`,paddingTop:`${parseInt(e.paddingTop,10)}px`,paddingBottom:`${parseInt(e.paddingBottom,10)}px`,left:`${t.left+window.scrollX-parseInt(e.marginLeft,10)}px`,top:`${t.top+window.scrollY-parseInt(e.marginTop,10)}px`,width:`${t.width+parseInt(e.marginLeft,10)+parseInt(e.marginRight,10)}px`,height:`${t.height+parseInt(e.marginTop,10)+parseInt(e.marginBottom,10)}px`}}var X=(i,e)=>{const t=i.__vccOpts||i;for(const[s,n]of e)t[s]=n;return t};const ue={},me={t:"1632588497688",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"5489",width:"2em",height:"2em"},he=z("path",{d:"M545.70715308 210.42529273v99.28729272c0 9.37353516-3.29754663 17.30346656-9.9074707 23.89855981-6.56048608 6.59014916-14.52502465 9.88769508-23.82934546 9.88769507-9.3092649 0-17.24908448-3.29754663-23.81945801-9.88769507-6.61486816-6.59509253-9.89758325-14.52502465-9.89758325-23.89855981V210.42529273c-34.78491234 3.91552734-67.72576928 13.49670411-98.88189698 28.7385869-31.16107178 15.24188209-58.49560547 34.70581055-82.05303907 58.18908644-23.52282715 23.58709741-42.92742944 50.88207984-58.19403124 82.09259034-15.2666018 31.1017456-24.83294702 64.06237817-28.69409155 98.7731328h99.29223608c9.3092649 0 17.25402856 3.39642334 23.81451464 9.98657178 6.62475562 6.59509253 9.89758325 14.52502465 9.89758254 23.79473901 0 9.37353516-3.27777099 17.20458984-9.89758254 23.89361572-6.56542945 6.49127173-14.50524903 9.78881836-23.81451464 9.78881836H210.42529273c3.85620117 34.80963135 13.42749047 67.77026391 28.69409227 98.87695289 15.2666018 31.20556641 34.67120337 58.50054955 58.19403052 82.08764696 23.52777124 23.58215333 50.89196801 42.94720435 82.05303979 58.18908644 31.15612769 15.24682617 64.14642334 24.82305884 98.87695289 28.7385869v-99.28729272c0-9.37353516 3.28765845-17.30346656 9.90252662-23.89855981 6.57531762-6.59014916 14.51019311-9.88769508 23.8244021-9.88769507 9.29937744 0 17.26391602 3.29754663 23.82440209 9.88769507 6.60992408 6.59509253 9.9074707 14.52502465 9.9074707 23.89855981V813.57470727c34.78491234-3.91552734 67.71093773-13.49670411 98.87695289-28.7385869 31.16107178-15.24188209 58.48571801-34.70581055 82.01348853-58.18908644 23.55743432-23.58709741 42.96203589-50.88207984 58.21875024-82.09259034 15.27648926-31.1017456 24.81811547-64.06237817 28.69409155-98.87695359h-99.27246045c-9.32409644 0-17.26391602-3.29260253-23.8244021-9.78387427-6.62475562-6.69396997-9.89758325-14.52008057-9.89758325-23.89361573 0-9.26971435 3.27282691-17.20458984 9.89758325-23.79473901 6.56048608-6.59014916 14.50030493-9.9865725 23.8244021-9.98657178h99.27246045c-3.86114526-34.71075463-13.42254638-67.67138648-28.69409155-98.77807618-15.25671363-31.20556641-34.66131592-58.50054955-58.21875024-82.08764696-23.50305152-23.58215333-50.85241675-42.94720435-82.00854445-58.18908644-31.17095923-15.24682617-64.15136742-24.82305884-98.88189697-28.7385869M511.99505592 141.21142578c50.39758301 0 98.46661377 9.78881836 144.20214891 29.35656762 45.71081543 19.56774926 85.1182251 45.82946778 118.23211646 78.99774122 33.10894799 33.05950928 59.43493676 72.50646949 79.00268531 118.23706055C873.00964332 413.53338623 882.78857422 461.63702416 882.78857422 512c0 50.36791992-9.77398682 98.36279297-29.35656762 144.19720483-19.56774926 45.73059106-45.89373803 85.07373047-79.00268531 118.13323974-33.11389136 33.16827416-72.52130103 59.53381347-118.23211646 79.10156203C610.46661377 872.90087914 562.39263892 882.78857422 511.99505592 882.78857422c-50.39758301 0-98.45672632-9.88769508-144.18237257-29.35656762-45.73059106-19.56774926-85.13305664-45.93328857-118.24200464-79.10156202-33.10894799-33.05950928-59.42504859-72.40264868-79.00268531-118.13323975C150.99035668 610.36279297 141.21142578 562.36297584 141.21142578 512c0-50.36791992 9.77398682-98.46661377 29.35656762-144.19720483 19.57763672-45.73059106 45.89373803-85.17755127 79.00268531-118.23706055 33.11389136-33.16827416 72.51141357-59.42999268 118.24200464-79.0026853C413.53833031 151.00024414 461.5974729 141.21142578 512 141.21142578","p-id":"5490",fill:"var(--v-brand)"},null,-1),ve=[he];function ge(i,e){return u(),g("svg",me,ve)}var fe=X(ue,[["render",ge]]);const be={"pointer-events":"none",display:"none"},ye={"z-index":1e8,position:"absolute",display:"none","align-items":"center","font-family":'"SF Pro Text", "SF Pro Icons", "Helvetica Neue", "Helvetica", "Arial", sans-serif;',"font-weight":"bold",padding:"6px 8px","pointer-events":"none","border-radius":"3px","background-color":"var(--v-inspect-bg)","box-shadow":"var(--v-inspect-box-shadow)"},_e={display:"flex","flex-direction":"column"},xe={color:"rgb(215, 215, 215)"},we={"z-index":1e8,position:"absolute","border-color":"rgba(255, 155, 0, 0.3)","pointer-events":"none","border-style":"solid"},Le={"border-color":"rgba(255, 200, 50, 0.3)","pointer-events":"none","border-style":"solid"},De={"border-color":"rgba(77, 200, 0, 0.3)","pointer-events":"none","border-style":"solid"},Ce={"background-color":"rgba(120, 170, 210, 0.7)","pointer-events":"none"};class ke{constructor(){this.overLayer=document.createElement("div"),this.inspectMarginDiv=document.createElement("div"),this.inspectborderDiv=document.createElement("div"),this.inspectPaddingDiv=document.createElement("div"),this.inspectContentDiv=document.createElement("div"),this.inspectPaddingDiv.appendChild(this.inspectContentDiv),this.inspectborderDiv.appendChild(this.inspectPaddingDiv),this.inspectMarginDiv.appendChild(this.inspectborderDiv),this.detailLayer=document.createElement("div"),this.detailLeft=document.createElement("span"),this.detailRight=document.createElement("span"),this.detailLayer.appendChild(this.detailLeft),this.detailLayer.appendChild(this.detailRight),Object.assign(this.inspectMarginDiv.style,we),Object.assign(this.inspectborderDiv.style,Le),Object.assign(this.inspectPaddingDiv.style,De),Object.assign(this.inspectContentDiv.style,Ce),Object.assign(this.overLayer.style,be),Object.assign(this.detailLayer.style,ye),Object.assign(this.detailLeft.style,_e),Object.assign(this.detailRight.style,xe),this.overLayer.appendChild(this.inspectMarginDiv),this.overLayer.appendChild(this.detailLayer),document.body.appendChild(this.overLayer)}update(e,t){var P,j,R,B,M,T;const{left:s,top:n,marginLeft:o,marginRight:d,marginTop:f,marginBottom:b,borderLeftWidth:r,borderRightWidth:a,borderTopWidth:l,borderBottomWidth:c,paddingLeft:p,paddingRight:h,paddingTop:v,paddingBottom:w,width:L,height:A}=e;if(!this.inspectMarginDiv||!this.inspectborderDiv||!this.inspectPaddingDiv||!this.inspectContentDiv)return;const{domType:Y,srcPath:O,componentName:E,frame:Z}=t;let D="";/^[A-Z]/.test(String(E))?D=` <div  style="color:var(--v-inspect-tt);">
      <span style="display:inline-block;color:#fff;border-radius:2px;background:var(${Z==="react"?"--v-inspect-frame-react":"--v-inspect-frame-vue"});padding: 0 4px">
        ${E}
      </span>
      </div>`:D=`
      <div  style="color:var(--v-inspect-tt);">
       ${Y}
    </div>
    `,this.detailLeft.innerHTML=`
    ${D}
    <div style="color:var(--v-inspect-sub-tt)">
      ${O}
    </div>`,Object.assign((P=this.detailLayer)==null?void 0:P.style,{display:"flex",left:s,top:`${parseInt(n,10)+parseInt(A,10)+10}px`}),Object.assign((j=this.inspectMarginDiv)==null?void 0:j.style,{left:s,top:n,"border-left-width":o,"border-right-width":d,"border-top-width":f,"border-bottom-width":b,width:L,height:A,display:"flex","box-sizing":"border-box"}),Object.assign((R=this.inspectborderDiv)==null?void 0:R.style,{"border-left-width":r,"border-right-width":a,"border-top-width":l,"border-bottom-width":c,display:"flex",flex:1,"box-sizing":"border-box"}),Object.assign((B=this.inspectPaddingDiv)==null?void 0:B.style,{"border-left-width":p,"border-right-width":h,"border-top-width":v,"border-bottom-width":w,display:"flex","box-sizing":"border-box",flex:1}),Object.assign((M=this.inspectContentDiv)==null?void 0:M.style,{display:O?"block":"none","box-sizing":"border-box",flex:1}),Object.assign((T=this.overLayer)==null?void 0:T.style,{display:"block"})}unmount(){var e,t;(t=(e=this.overLayer)==null?void 0:e.parentElement)==null||t.removeChild(this.overLayer),this.inspectContentDiv=null,this.inspectborderDiv=null,this.inspectPaddingDiv=null,this.inspectMarginDiv=null,this.detailLayer=null,this.overLayer=null}}const Ie=_({setup(i){const e=$("aim"),t=K(),s=C(),n=C(new WeakMap);let o=null;y(()=>{const r=()=>{document.querySelectorAll("[data-v-p]").forEach(l=>{const c=l.getAttribute("data-v-p");c&&n.value.set(l,c),l.removeAttribute("data-v-p")})};r(),new MutationObserver(()=>{r()}).observe(document.body,{attributes:!1,childList:!0,subtree:!0})});const d=r=>{r.stopPropagation(),t==null||t.setIsAimStatus(!0)},f=async r=>{requestAnimationFrame(()=>{r.stopPropagation();const a=U(r.target,c=>!!n.value.get(c));if(!a)return;const l=n.value.get(a);if(l&&a&&s.value&&o!==a){const c=pe(a),[,p,h,v]=l.split("|");s.value.update(c,{frame:v,componentName:h,domType:a.nodeName.toLowerCase(),srcPath:p})}o=a})},b=async r=>{var a;r.stopPropagation(),r.preventDefault();try{const l=U(r.target,p=>!!n.value.get(p));if(!l){(a=s.value)==null||a.unmount();return}const c=n.value.get(l);if(c){const[p]=c.split("|"),[h,v,w]=p.split(":"),L=de({srcPath:h,line:v,column:w,editor:t.devConfig.editor});window.open(L)}}finally{t==null||t.closeAll()}};return V(()=>{var r;(t==null?void 0:t.isAimStatus)?(s.value=new ke,window.addEventListener("mousemove",f,!1),window.addEventListener("click",b,!0)):((r=s.value)==null||r.unmount(),window.removeEventListener("mousemove",f,!1),window.removeEventListener("click",b,!0))}),(r,a)=>{var l;return u(),g("div",{class:x(m(e)),onClick:d},[((l=m(t))==null?void 0:l.isAimStatus)?S("",!0):(u(),F(fe,{key:0}))],2)}}});const Se=_({setup(i){const e=$("outline");return(t,s)=>(u(),g("div",{class:x(m(e))},null,2))}});var $e=X(Se,[["__scopeId","data-v-cba922a8"]]);const Ae=_({setup(i){const e=$("folder"),t=K();return(s,n)=>{var o;return u(),g(Q,null,[z("div",{class:x(`${m(e)}-aim-btn`)},[H(Ie)],2),((o=m(t))==null?void 0:o.isAimStatus)?(u(),F($e,{key:0})):S("",!0)],64)}}});const Oe=_({setup(i){const e=ie("vd"),t=I({loading:!0}),s=oe();return y(async()=>{if(window.isDemo){t.loading=!0,s.devConfig={devServerProxy:!1,editor:"vscode",mode:"aim"},t.loading=!1;return}t.loading=!0,s.devConfig=await ae("getConfig"),t.loading=!1}),(n,o)=>m(t).loading?S("",!0):(u(),g("div",{key:0,class:x(`${m(e)}-pos`)},[H(Ae)],2))}});ee(Oe).mount("#dev-tools");
