import{r as $,p as R,i as B,a as T,o as x,b as U,h as M,d as _,c as h,e as w,f as v,n as p,u as d,w as X,g as N,j as W,F as Y,s as Z,k as J,l as Q,m as ee}from"./vendor.74f7fbf1.js";const te=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))o(n);new MutationObserver(n=>{for(const s of n)if(s.type==="childList")for(const u of s.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&o(u)}).observe(document,{childList:!0,subtree:!0});function t(n){const s={};return n.integrity&&(s.integrity=n.integrity),n.referrerpolicy&&(s.referrerPolicy=n.referrerpolicy),n.crossorigin==="use-credentials"?s.credentials="include":n.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function o(n){if(n.ep)return;n.ep=!0;const s=t(n);fetch(n.href,s)}};te();const z="useRoute",ie=i=>{const e=$();return e.value=i,R(z,e.value),e.value},C=i=>`${B(z)}-${i}`,F="useAim",ne={type:"",component:"",visibile:!1,isAimStatus:!1,setVisibile(i){this.visibile=i},setIsAimStatus(i){this.isAimStatus=i},openDrawer(){this.component="",this.type="",this.setVisibile(!0)},closeDrawer(){this.component="",this.type="",this.setVisibile(!1),this.setIsAimStatus(!1)}},se=()=>{const i=T(ne),e=t=>{switch(t.key){case"Escape":return i.setIsAimStatus(!1),null;default:return null}};return x(()=>{window.addEventListener("keydown",e,!1)}),U(()=>{window.removeEventListener("keydown",e,!1)}),R(F,T(i)),i},oe=()=>B(F),re=i=>(x(()=>{Object.entries(i).forEach(([,e])=>{e.keys.forEach(t=>{M(t.join("+"),e.callback)})})}),{unbind(){Object.entries(i).forEach(([e,t])=>{M.unbind(t.keys.join("+"),e)})}}),ae="http://localhost:10078/web-devtools",le=i=>fetch(`${ae}/${i}`).then(e=>e.json()),ce={sublime:"subl://open?url=file://{path}&line={line}&column={column}",textmate:"txmt://open?url=file://{path}&line={line}&column={column}",emacs:"emacs://open?url=file://{path}&line={line}&column={column}",macvim:"mvim://open/?url=file://{path}&line={line}&column={column}",phpstorm:"phpstorm://open?file={path}&line={line}&column={column}",webstorm:"phpstorm://open?file={path}&line={line}&column={column}",idea:"idea://open?file={path}&line={line}&column={column}",vscode:"vscode://file/{path}:{line}:{column}","vscode-insiders":"vscode-insiders://file/{path}:{line}:{column}",atom:"atom://core/open/file?filename={path}&line={line}&column={column}"},de="https://github.com/wen-haoming/visual-dev/blob/master/demo{path}#L{line}";function pe({editor:i,srcPath:e,line:t,column:o}){return(window.isDemo?de:ce[i]).replace(/{(.*?)}/g,(n,s)=>s==="path"?e:String(s==="line"?t:o))}const V=(i,e)=>{if(!i)return null;for(;!e(i)&&i.parentNode&&i!==document.body;)i=i.parentNode;return i};function ue(i){const e=window.getComputedStyle(i),t=i.getBoundingClientRect();return{borderLeftWidth:`${parseInt(e.borderLeftWidth,10)}px`,borderRightWidth:`${parseInt(e.borderRightWidth,10)}px`,borderTopWidth:`${parseInt(e.borderTopWidth,10)}px`,borderBottomWidth:`${parseInt(e.borderBottomWidth,10)}px`,marginLeft:`${parseInt(e.marginLeft,10)}px`,marginRight:`${parseInt(e.marginRight,10)}px`,marginTop:`${parseInt(e.marginTop,10)}px`,marginBottom:`${parseInt(e.marginBottom,10)}px`,paddingLeft:`${parseInt(e.paddingLeft,10)}px`,paddingRight:`${parseInt(e.paddingRight,10)}px`,paddingTop:`${parseInt(e.paddingTop,10)}px`,paddingBottom:`${parseInt(e.paddingBottom,10)}px`,left:`${t.left+window.scrollX-parseInt(e.marginLeft,10)}px`,top:`${t.top+window.scrollY-parseInt(e.marginTop,10)}px`,width:`${t.width+parseInt(e.marginLeft,10)+parseInt(e.marginRight,10)}px`,height:`${t.height+parseInt(e.marginTop,10)+parseInt(e.marginBottom,10)}px`}}var H=(i,e)=>{const t=i.__vccOpts||i;for(const[o,n]of e)t[o]=n;return t};const me=_({setup(i){const e=C("aim-icon");return(t,o)=>(h(),w("div",{class:p(d(e))},[v("div",{class:p(`${d(e)}-top`)},null,2),v("div",{class:p(`${d(e)}-right`)},null,2),v("div",{class:p(`${d(e)}-bottom`)},null,2),v("div",{class:p(`${d(e)}-left`)},null,2),v("div",{class:p(`${d(e)}-center`)},null,2)],2))}});var he=H(me,[["__scopeId","data-v-ffd7aa64"]]);const ve=_({setup(i){const e=C("outline");return(t,o)=>(h(),w("div",{class:p(d(e))},null,2))}});var fe=H(ve,[["__scopeId","data-v-cba922a8"]]);const ge={"pointer-events":"none"},be={"z-index":1e8,position:"absolute",display:"flex","align-items":"center","font-family":'"SF Pro Text", "SF Pro Icons", "Helvetica Neue", "Helvetica", "Arial", sans-serif;',"font-weight":"bold",padding:"6px 8px","pointer-events":"none","border-radius":"3px","background-color":"var(--v-inspect-bg)","box-shadow":"var(--v-inspect-box-shadow)"},ye={display:"flex","flex-direction":"column"},xe={color:"rgb(215, 215, 215)"},_e={"z-index":1e8,position:"absolute","border-color":"rgba(255, 155, 0, 0.3)","pointer-events":"none","border-style":"solid"},we={"border-color":"rgba(255, 200, 50, 0.3)","pointer-events":"none","border-style":"solid"},Le={"border-color":"rgba(77, 200, 0, 0.3)","pointer-events":"none","border-style":"solid"},De={"background-color":"rgba(120, 170, 210, 0.7)","pointer-events":"none"};class Ie{constructor(){this.overLayer=document.createElement("div"),this.inspectMarginDiv=document.createElement("div"),this.inspectborderDiv=document.createElement("div"),this.inspectPaddingDiv=document.createElement("div"),this.inspectContentDiv=document.createElement("div"),this.inspectPaddingDiv.appendChild(this.inspectContentDiv),this.inspectborderDiv.appendChild(this.inspectPaddingDiv),this.inspectMarginDiv.appendChild(this.inspectborderDiv),this.detailLayer=document.createElement("div"),this.detailLeft=document.createElement("span"),this.detailRight=document.createElement("span"),this.detailLayer.appendChild(this.detailLeft),this.detailLayer.appendChild(this.detailRight),Object.assign(this.inspectMarginDiv.style,_e),Object.assign(this.inspectborderDiv.style,we),Object.assign(this.inspectPaddingDiv.style,Le),Object.assign(this.inspectContentDiv.style,De),Object.assign(this.overLayer.style,ge),Object.assign(this.detailLayer.style,be),Object.assign(this.detailLeft.style,ye),Object.assign(this.detailRight.style,xe),this.overLayer.appendChild(this.inspectMarginDiv),this.overLayer.appendChild(this.detailLayer),document.body.appendChild(this.overLayer)}update(e,t){var O,E,P,j,A;const{left:o,top:n,marginLeft:s,marginRight:u,marginTop:b,marginBottom:y,borderLeftWidth:r,borderRightWidth:a,borderTopWidth:l,borderBottomWidth:c,paddingLeft:m,paddingRight:f,paddingTop:g,paddingBottom:L,width:D,height:k}=e;if(!this.inspectMarginDiv||!this.inspectborderDiv||!this.inspectPaddingDiv||!this.inspectContentDiv)return;const{domType:q,srcPath:G,componentName:S,frame:K}=t;let I="";/^[A-Z]/.test(String(S))?I=` <div  style="color:var(--v-inspect-tt);">
      <span style="display:inline-block;color:#fff;border-radius:2px;background:var(${K==="react"?"--v-inspect-frame-react":"--v-inspect-frame-vue"});padding: 0 4px">
        ${S}
      </span>
      </div>`:I=`
      <div  style="color:var(--v-inspect-tt);">
       ${q}
    </div>
    `,this.detailLeft.innerHTML=`
    ${I}
    <div style="color:var(--v-inspect-sub-tt)">
      ${G}
    </div>`,Object.assign((O=this.detailLayer)==null?void 0:O.style,{left:o,top:`${parseInt(n,10)+parseInt(k,10)+10}px`}),Object.assign((E=this.inspectMarginDiv)==null?void 0:E.style,{left:o,top:n,"border-left-width":s,"border-right-width":u,"border-top-width":b,"border-bottom-width":y,width:D,height:k,display:"flex","box-sizing":"border-box"}),Object.assign((P=this.inspectborderDiv)==null?void 0:P.style,{"border-left-width":r,"border-right-width":a,"border-top-width":l,"border-bottom-width":c,display:"flex",flex:1,"box-sizing":"border-box"}),Object.assign((j=this.inspectPaddingDiv)==null?void 0:j.style,{"border-left-width":m,"border-right-width":f,"border-top-width":g,"border-bottom-width":L,display:"flex","box-sizing":"border-box",flex:1}),Object.assign((A=this.inspectContentDiv)==null?void 0:A.style,{"box-sizing":"border-box",flex:1})}unmount(){var e,t;(t=(e=this.overLayer)==null?void 0:e.parentElement)==null||t.removeChild(this.overLayer),this.inspectContentDiv=null,this.inspectborderDiv=null,this.inspectPaddingDiv=null,this.inspectMarginDiv=null,this.detailLayer=null,this.overLayer=null}}const $e=_({setup(i){const e=C("aim"),t=oe(),o=$(),n=$(new WeakMap);let s=null;x(()=>{const r=()=>{document.querySelectorAll("[data-v-p]").forEach(l=>{const c=l.getAttribute("data-v-p");c&&n.value.set(l,c),l.removeAttribute("data-v-p")})};r(),new MutationObserver(()=>{r()}).observe(document.body,{attributes:!1,childList:!0,subtree:!0})});const u=r=>{r.stopPropagation(),t==null||t.setIsAimStatus(!0)},b=async r=>{requestAnimationFrame(()=>{r.stopPropagation();const a=V(r.target,c=>!!n.value.get(c));if(!a)return;const l=n.value.get(a);if(l&&a&&o.value&&s!==a){const c=ue(a),[,m,f,g]=l.split("|");o.value.update(c,{frame:g,componentName:f,domType:a.nodeName.toLowerCase(),srcPath:m})}s=a})},y=async r=>{var a;r.stopPropagation(),r.preventDefault();try{const l=V(r.target,m=>!!n.value.get(m));if(!l){(a=o.value)==null||a.unmount();return}const c=n.value.get(l);if(c){const[m]=c.split("|"),[f,g,L]=m.split(":"),D=pe({srcPath:f,line:g,column:L,editor:"vscode"});window.open(D)}}finally{t==null||t.setIsAimStatus(!1)}};return X([t],()=>{var r;(t==null?void 0:t.isAimStatus)?(o.value=new Ie,window.addEventListener("mousemove",b,!1),window.addEventListener("click",y,!0)):((r=o.value)==null||r.unmount(),window.removeEventListener("mousemove",b,!1),window.removeEventListener("click",y,!0))}),(r,a)=>{var l,c;return h(),w(Y,null,[v("div",{class:p(d(e)),onClick:u},[((l=d(t))==null?void 0:l.isAimStatus)?W("",!0):(h(),N(he,{key:0}))],2),((c=d(t))==null?void 0:c.isAimStatus)?(h(),N(fe,{key:0})):W("",!0)],64)}}});const Ce=_({setup(i){const e=se(),t=ie("vd");return Z(J("span",{})),re({toggle_drawer:{keys:[["command","shift","z"],["ctrl","shift","z"]],callback(){e.visibile?e.closeDrawer():e.openDrawer()}},toggle_aim:{keys:[["command","shift","x"],["ctrl","shift","x"]],callback(){e.setIsAimStatus(!e.isAimStatus)}}}),x(async()=>{window.isDemo||await le("getConfig")}),(o,n)=>(h(),w("div",{class:p(`${d(t)}-pos`)},[Q($e)],2))}});ee(Ce).mount("#dev-tools");
