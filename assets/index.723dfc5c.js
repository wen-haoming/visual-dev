import{r as C,p as T,i as M,a as N,o as x,b as X,h as W,d as _,c as h,e as w,f as v,n as p,u as d,w as Y,g as z,j as F,F as Z,k as J,l as Q}from"./vendor.8418b709.js";const ee=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))s(n);new MutationObserver(n=>{for(const o of n)if(o.type==="childList")for(const u of o.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&s(u)}).observe(document,{childList:!0,subtree:!0});function t(n){const o={};return n.integrity&&(o.integrity=n.integrity),n.referrerpolicy&&(o.referrerPolicy=n.referrerpolicy),n.crossorigin==="use-credentials"?o.credentials="include":n.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function s(n){if(n.ep)return;n.ep=!0;const o=t(n);fetch(n.href,o)}};ee();const V="useRoute",te=i=>{const e=C();return e.value=i,T(V,e.value),e.value},$=i=>`${M(V)}-${i}`,H="useAim",ie={type:"",component:"",visibile:!1,isAimStatus:!1,devConfig:{editor:"vscode"},setVisibile(i){this.visibile=i},setIsAimStatus(i){this.isAimStatus=i},openDrawer(){this.component="",this.type="",this.setVisibile(!0)},closeAll(){this.component="",this.type="",this.setVisibile(!1),this.setIsAimStatus(!1)}},ne=()=>{const i=N(ie),e=t=>{switch(t.key){case"Escape":return i.setIsAimStatus(!1),null;default:return null}};return x(()=>{window.addEventListener("keydown",e,!1)}),X(()=>{window.removeEventListener("keydown",e,!1)}),T(H,N(i)),i},se=()=>M(H),oe=i=>(x(()=>{Object.entries(i).forEach(([,e])=>{e.keys.forEach(t=>{W(t.join("+"),e.callback)})})}),{unbind(){Object.entries(i).forEach(([e,t])=>{W.unbind(t.keys.join("+"),e)})}}),re="http://localhost:10078/web-devtools",ae=i=>fetch(`${re}/${i}`).then(e=>e.json()),le={sublime:"subl://open?url=file://{path}&line={line}&column={column}",textmate:"txmt://open?url=file://{path}&line={line}&column={column}",emacs:"emacs://open?url=file://{path}&line={line}&column={column}",macvim:"mvim://open/?url=file://{path}&line={line}&column={column}",phpstorm:"phpstorm://open?file={path}&line={line}&column={column}",webstorm:"webstorm://open?file={path}&line={line}&column={column}",idea:"idea://open?file={path}&line={line}&column={column}",vscode:"vscode://file/{path}:{line}:{column}","vscode-insiders":"vscode-insiders://file/{path}:{line}:{column}",atom:"atom://core/open/file?filename={path}&line={line}&column={column}"},ce="https://github.com/wen-haoming/visual-dev/blob/master/demo{path}#L{line}";function de({editor:i,srcPath:e,line:t,column:s}){return(window.isDemo?ce:le[i]).replace(/{(.*?)}/g,(n,o)=>o==="path"?e:String(o==="line"?t:s))}const q=(i,e)=>{if(!i)return null;for(;!e(i)&&i.parentNode&&i!==document.body;)i=i.parentNode;return i};function pe(i){const e=window.getComputedStyle(i),t=i.getBoundingClientRect();return{borderLeftWidth:`${parseInt(e.borderLeftWidth,10)}px`,borderRightWidth:`${parseInt(e.borderRightWidth,10)}px`,borderTopWidth:`${parseInt(e.borderTopWidth,10)}px`,borderBottomWidth:`${parseInt(e.borderBottomWidth,10)}px`,marginLeft:`${parseInt(e.marginLeft,10)}px`,marginRight:`${parseInt(e.marginRight,10)}px`,marginTop:`${parseInt(e.marginTop,10)}px`,marginBottom:`${parseInt(e.marginBottom,10)}px`,paddingLeft:`${parseInt(e.paddingLeft,10)}px`,paddingRight:`${parseInt(e.paddingRight,10)}px`,paddingTop:`${parseInt(e.paddingTop,10)}px`,paddingBottom:`${parseInt(e.paddingBottom,10)}px`,left:`${t.left+window.scrollX-parseInt(e.marginLeft,10)}px`,top:`${t.top+window.scrollY-parseInt(e.marginTop,10)}px`,width:`${t.width+parseInt(e.marginLeft,10)+parseInt(e.marginRight,10)}px`,height:`${t.height+parseInt(e.marginTop,10)+parseInt(e.marginBottom,10)}px`}}var G=(i,e)=>{const t=i.__vccOpts||i;for(const[s,n]of e)t[s]=n;return t};const ue=_({setup(i){const e=$("aim-icon");return(t,s)=>(h(),w("div",{class:p(d(e))},[v("div",{class:p(`${d(e)}-top`)},null,2),v("div",{class:p(`${d(e)}-right`)},null,2),v("div",{class:p(`${d(e)}-bottom`)},null,2),v("div",{class:p(`${d(e)}-left`)},null,2),v("div",{class:p(`${d(e)}-center`)},null,2)],2))}});var me=G(ue,[["__scopeId","data-v-ffd7aa64"]]);const he=_({setup(i){const e=$("outline");return(t,s)=>(h(),w("div",{class:p(d(e))},null,2))}});var ve=G(he,[["__scopeId","data-v-cba922a8"]]);const ge={"pointer-events":"none",display:"none"},fe={"z-index":1e8,position:"absolute",display:"none","align-items":"center","font-family":'"SF Pro Text", "SF Pro Icons", "Helvetica Neue", "Helvetica", "Arial", sans-serif;',"font-weight":"bold",padding:"6px 8px","pointer-events":"none","border-radius":"3px","background-color":"var(--v-inspect-bg)","box-shadow":"var(--v-inspect-box-shadow)"},be={display:"flex","flex-direction":"column"},ye={color:"rgb(215, 215, 215)"},xe={"z-index":1e8,position:"absolute","border-color":"rgba(255, 155, 0, 0.3)","pointer-events":"none","border-style":"solid"},_e={"border-color":"rgba(255, 200, 50, 0.3)","pointer-events":"none","border-style":"solid"},we={"border-color":"rgba(77, 200, 0, 0.3)","pointer-events":"none","border-style":"solid"},Le={"background-color":"rgba(120, 170, 210, 0.7)","pointer-events":"none"};class De{constructor(){this.overLayer=document.createElement("div"),this.inspectMarginDiv=document.createElement("div"),this.inspectborderDiv=document.createElement("div"),this.inspectPaddingDiv=document.createElement("div"),this.inspectContentDiv=document.createElement("div"),this.inspectPaddingDiv.appendChild(this.inspectContentDiv),this.inspectborderDiv.appendChild(this.inspectPaddingDiv),this.inspectMarginDiv.appendChild(this.inspectborderDiv),this.detailLayer=document.createElement("div"),this.detailLeft=document.createElement("span"),this.detailRight=document.createElement("span"),this.detailLayer.appendChild(this.detailLeft),this.detailLayer.appendChild(this.detailRight),Object.assign(this.inspectMarginDiv.style,xe),Object.assign(this.inspectborderDiv.style,_e),Object.assign(this.inspectPaddingDiv.style,we),Object.assign(this.inspectContentDiv.style,Le),Object.assign(this.overLayer.style,ge),Object.assign(this.detailLayer.style,fe),Object.assign(this.detailLeft.style,be),Object.assign(this.detailRight.style,ye),this.overLayer.appendChild(this.inspectMarginDiv),this.overLayer.appendChild(this.detailLayer),document.body.appendChild(this.overLayer)}update(e,t){var E,P,A,j,R,B;const{left:s,top:n,marginLeft:o,marginRight:u,marginTop:b,marginBottom:y,borderLeftWidth:r,borderRightWidth:a,borderTopWidth:l,borderBottomWidth:c,paddingLeft:m,paddingRight:g,paddingTop:f,paddingBottom:L,width:D,height:k}=e;if(!this.inspectMarginDiv||!this.inspectborderDiv||!this.inspectPaddingDiv||!this.inspectContentDiv)return;const{domType:K,srcPath:S,componentName:O,frame:U}=t;let I="";/^[A-Z]/.test(String(O))?I=` <div  style="color:var(--v-inspect-tt);">
      <span style="display:inline-block;color:#fff;border-radius:2px;background:var(${U==="react"?"--v-inspect-frame-react":"--v-inspect-frame-vue"});padding: 0 4px">
        ${O}
      </span>
      </div>`:I=`
      <div  style="color:var(--v-inspect-tt);">
       ${K}
    </div>
    `,this.detailLeft.innerHTML=`
    ${I}
    <div style="color:var(--v-inspect-sub-tt)">
      ${S}
    </div>`,Object.assign((E=this.detailLayer)==null?void 0:E.style,{display:"flex",left:s,top:`${parseInt(n,10)+parseInt(k,10)+10}px`}),Object.assign((P=this.inspectMarginDiv)==null?void 0:P.style,{left:s,top:n,"border-left-width":o,"border-right-width":u,"border-top-width":b,"border-bottom-width":y,width:D,height:k,display:"flex","box-sizing":"border-box"}),Object.assign((A=this.inspectborderDiv)==null?void 0:A.style,{"border-left-width":r,"border-right-width":a,"border-top-width":l,"border-bottom-width":c,display:"flex",flex:1,"box-sizing":"border-box"}),Object.assign((j=this.inspectPaddingDiv)==null?void 0:j.style,{"border-left-width":m,"border-right-width":g,"border-top-width":f,"border-bottom-width":L,display:"flex","box-sizing":"border-box",flex:1}),Object.assign((R=this.inspectContentDiv)==null?void 0:R.style,{display:S?"block":"none","box-sizing":"border-box",flex:1}),Object.assign((B=this.overLayer)==null?void 0:B.style,{display:"block"})}unmount(){var e,t;(t=(e=this.overLayer)==null?void 0:e.parentElement)==null||t.removeChild(this.overLayer),this.inspectContentDiv=null,this.inspectborderDiv=null,this.inspectPaddingDiv=null,this.inspectMarginDiv=null,this.detailLayer=null,this.overLayer=null}}const Ie=_({setup(i){const e=$("aim"),t=se(),s=C(),n=C(new WeakMap);let o=null;x(()=>{const r=()=>{document.querySelectorAll("[data-v-p]").forEach(l=>{const c=l.getAttribute("data-v-p");c&&n.value.set(l,c),l.removeAttribute("data-v-p")})};r(),new MutationObserver(()=>{r()}).observe(document.body,{attributes:!1,childList:!0,subtree:!0})});const u=r=>{r.stopPropagation(),t==null||t.setIsAimStatus(!0)},b=async r=>{requestAnimationFrame(()=>{r.stopPropagation();const a=q(r.target,c=>!!n.value.get(c));if(!a)return;const l=n.value.get(a);if(l&&a&&s.value&&o!==a){const c=pe(a),[,m,g,f]=l.split("|");s.value.update(c,{frame:f,componentName:g,domType:a.nodeName.toLowerCase(),srcPath:m})}o=a})},y=async r=>{var a;r.stopPropagation(),r.preventDefault();try{const l=q(r.target,m=>!!n.value.get(m));if(!l){(a=s.value)==null||a.unmount();return}const c=n.value.get(l);if(c){const[m]=c.split("|"),[g,f,L]=m.split(":"),D=de({srcPath:g,line:f,column:L,editor:t.devConfig.editor});window.open(D)}}finally{t==null||t.setIsAimStatus(!1)}};return Y([t],()=>{var r;(t==null?void 0:t.isAimStatus)?(s.value=new De,window.addEventListener("mousemove",b,!1),window.addEventListener("click",y,!0)):((r=s.value)==null||r.unmount(),window.removeEventListener("mousemove",b,!1),window.removeEventListener("click",y,!0))}),(r,a)=>{var l,c;return h(),w(Z,null,[v("div",{class:p(d(e)),onClick:u},[((l=d(t))==null?void 0:l.isAimStatus)?F("",!0):(h(),z(me,{key:0}))],2),((c=d(t))==null?void 0:c.isAimStatus)?(h(),z(ve,{key:0})):F("",!0)],64)}}});const Ce=_({setup(i){const e=ne(),t=te("vd");return oe({close_all:{keys:[["esc"]],callback(){e.closeAll()}},toggle_aim:{keys:[["command","shift","x"],["ctrl","shift","x"]],callback(){e.setIsAimStatus(!e.isAimStatus)}}}),x(async()=>{if(window.isDemo)return;const s=await ae("getConfig");e.devConfig=s}),(s,n)=>(h(),w("div",{class:p(`${d(t)}-pos`)},[J(Ie)],2))}});Q(Ce).mount("#dev-tools");
